# YAML Schema for platform-specific configurations
# Defines CI/CD platform and source control specific settings

$schema: "http://json-schema.org/draft-07/schema#"
title: "Platform Configuration Schema"
description: "Schema for platform-specific configuration (GitHub, Azure DevOps, etc.)"
type: object

properties:
  # Platform-specific configurations
  platforms:
    type: object
    description: "Platform-specific configurations"
    properties:
      # GitHub specific configuration
      github:
        type: object
        properties:
          # Issue and PR templates
          templates:
            type: object
            properties:
              issue_templates:
                type: array
                items:
                  type: object
                  properties:
                    name:
                      type: string
                    about:
                      type: string
                    labels:
                      type: array
                      items:
                        type: string
                  additionalProperties: true
              pull_request_template:
                type: string
            additionalProperties: false

          # Repository settings
          settings:
            type: object
            properties:
              branch_protection:
                type: object
                additionalProperties: true
              security_alerts:
                type: boolean
              automated_security_fixes:
                type: boolean
            additionalProperties: true

        additionalProperties: false

      # Azure DevOps specific configuration
      azuredevops:
        type: object
        properties:
          # Work item templates
          work_items:
            type: object
            properties:
              process_template:
                type: string
                enum: [Agile, Scrum, CMMI, Basic]
              custom_fields:
                type: array
                items:
                  type: object
                  properties:
                    name:
                      type: string
                    type:
                      type: string
                  additionalProperties: true
            additionalProperties: false

        additionalProperties: false

    additionalProperties: false

additionalProperties: false
