# YAML Schema for platform-specific configurations
# Defines CI/CD platform and source control specific settings

$schema: "http://json-schema.org/draft-07/schema#"
title: "Platform Configuration Schema"
description: "Schema for platform-specific configuration (GitHub, Azure DevOps, etc.)"
type: object

properties:
  # Platform-specific configurations
  platforms:
    type: object
    description: "Platform-specific configurations"
    properties:
      # GitHub specific configuration
      github:
        type: object
        properties:
          # Repository settings
          settings:
            type: object
            properties:
              branch_protection:
                type: object
                additionalProperties: true
              security_alerts:
                type: boolean
              automated_security_fixes:
                type: boolean
            additionalProperties: true

        additionalProperties: false

      # Azure DevOps specific configuration
      azuredevops:
        type: object
        properties:
          # Branch policies
          branch_policies:
            type: object
            properties:
              minimum_reviewers:
                type: integer
                minimum: 1
                maximum: 10
              require_work_item_linking:
                type: boolean
              build_validation:
                type: boolean
              path_filters:
                type: array
                items:
                  type: string
            additionalProperties: true
        additionalProperties: false
    additionalProperties: false
additionalProperties: false
